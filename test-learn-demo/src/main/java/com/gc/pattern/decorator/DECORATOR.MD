装饰者模式定义:(decorator pattern)
> 是指在不改变原有对象的基础之上,将功能附加到对象上,提供了比继承更有弹性的替代方法(拓展原有对象的功能)
> 属于结构型模型

适用场景:
- 用于拓展一个类的功能或给一个类添加附加职责
- 动态的给一个对象添加功能,这些功能可以再动态的撤销

和静态代理的不同点:
- 职责不同:静态代理会做功能增强,同一个职责变得不一样;装饰器更多的考虑的是拓展
- 静态代理不一定要满足is-a的关系,但是装饰者一定是is-a的关系

装饰者模式和适配器模式对比:

| 对比项 | 装饰者模式 | 适配器模式 |
| -----| ---- | ---- |
| 形式 | 是一种非常特别的适配器模式 | 没有层级关系,装饰者模式有层级关系 |
| 定义 | 装饰者和被装饰者都实现同一个接口，主要目的是为了扩展之后依旧保留OOP关系 | 适配器和被适配者没有必然的联系，通常是采用继承或代理的形式进行包装 |
| 关系 | 满足is-a的关系 | 满足has-a的关系 |
| 功能 | 注重扩展,覆盖 | 注重兼容,转换 |
| 设计 | 前置考虑 | 后置考虑 |

装饰者模式的优缺点:
优点:
- 1.装饰者模式是继承的有力补充,比继承灵活,不改变原有对象的情况下给对象动态的拓展功能,即插即用.
- 2.通过使用不同的装饰类,以及装饰类的排列组合,可以实现不同的效果
- 3.装饰者完全遵循开闭原则

缺点
- 1.增加类的数量,增加程序的复杂性
- 2.动态装饰时,多层装饰会更加复杂
